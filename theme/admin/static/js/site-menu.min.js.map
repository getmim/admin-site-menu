{"version":3,"sources":["../../src/js/nestable.js","../../src/js/site-menu.js"],"names":["Plugin","element","options","this","w","$","document","el","extend","defaults","init","window","undefined","hasTouch","hasPointerEvents","jQuery","Zepto","createElement","docEl","documentElement","style","pointerEvents","appendChild","supports","getComputedStyle","removeChild","listNodeName","itemNodeName","rootClass","listClass","itemClass","dragClass","handleClass","collapsedClass","placeClass","noDragClass","emptyClass","expandBtnHTML","collapseBtnHTML","group","maxDepth","threshold","prototype","list","reset","data","placeEl","each","find","k","setParent","on","e","dragEl","target","currentTarget","action","item","parent","collapseItem","expandItem","onStartEvent","handle","hasClass","closest","length","isTouch","test","type","touches","preventDefault","dragStart","onMoveEvent","dragMove","onEndEvent","dragStop","addEventListener","serialize","step","level","array","children","li","sub","push","first","serialise","mouse","offsetX","offsetY","startX","startY","lastX","lastY","nowX","nowY","distX","distY","dirAx","dirX","dirY","lastDirX","lastDirY","distAxX","distAxY","moving","dragRootEl","dragDepth","hasNewRoot","pointEl","removeClass","hide","show","addClass","expandAll","collapseAll","prepend","unsetParent","remove","dragItem","css","height","pageX","offset","left","pageY","top","width","after","parentNode","appendTo","body","append","i","depth","items","parents","replaceWith","trigger","prev","opt","newAx","Math","abs","last","next","isEmpty","visibility","elementFromPoint","scrollLeft","pageYOffset","scrollTop","pointElRoot","isNewRoot","before","fn","nestable","params","retval","plugin","Date","getTime","NAME","DATA_KEY","JQUERY_NO_CONFLICT","Event","LOAD_DATA_API","Selector","SiteMenu","_this","_element","_model","querySelector","dataset","model","_form","form","_value","_active","value","JSON","parse","render","addElementsListener","updateModel","_this2","editMenu","label","link","dialog","confirm","res","slideUp","classList","select","elements","text","makeItem","modal","hs","str","map","&","<",">","\"","'","replace","m","safe","eItem","cont","_this3","eList","forEach","console","log","stringify","_jQueryInterface","Constructor","noConflict","sitemenu"],"mappings":"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","sourcesContent":["/*!\n * Nestable jQuery Plugin - Copyright (c) 2012 David Bushell - http://dbushell.com/\n * Dual-licensed under the BSD or MIT licenses\n */\n;(function($, window, document, undefined)\n{\n    var hasTouch = 'ontouchstart' in document;\n\n    /**\n     * Detect CSS pointer-events property\n     * events are normally disabled on the dragging element to avoid conflicts\n     * https://github.com/ausi/Feature-detection-technique-for-pointer-events/blob/master/modernizr-pointerevents.js\n     */\n    var hasPointerEvents = (function()\n    {\n        var el    = document.createElement('div'),\n            docEl = document.documentElement;\n        if (!('pointerEvents' in el.style)) {\n            return false;\n        }\n        el.style.pointerEvents = 'auto';\n        el.style.pointerEvents = 'x';\n        docEl.appendChild(el);\n        var supports = window.getComputedStyle && window.getComputedStyle(el, '').pointerEvents === 'auto';\n        docEl.removeChild(el);\n        return !!supports;\n    })();\n\n    var defaults = {\n            listNodeName    : 'ol',\n            itemNodeName    : 'li',\n            rootClass       : 'dd',\n            listClass       : 'dd-list',\n            itemClass       : 'dd-item',\n            dragClass       : 'dd-dragel',\n            handleClass     : 'dd-handle',\n            collapsedClass  : 'dd-collapsed',\n            placeClass      : 'dd-placeholder',\n            noDragClass     : 'dd-nodrag',\n            emptyClass      : 'dd-empty',\n            expandBtnHTML   : '<button data-action=\"expand\" type=\"button\">Expand</button>',\n            collapseBtnHTML : '<button data-action=\"collapse\" type=\"button\">Collapse</button>',\n            group           : 0,\n            maxDepth        : 5,\n            threshold       : 20\n        };\n\n    function Plugin(element, options)\n    {\n        this.w  = $(document);\n        this.el = $(element);\n        this.options = $.extend({}, defaults, options);\n        this.init();\n    }\n\n    Plugin.prototype = {\n\n        init: function()\n        {\n            var list = this;\n\n            list.reset();\n\n            list.el.data('nestable-group', this.options.group);\n\n            list.placeEl = $('<div class=\"' + list.options.placeClass + '\"/>');\n\n            $.each(this.el.find(list.options.itemNodeName), function(k, el) {\n                list.setParent($(el));\n            });\n\n            list.el.on('click', 'button', function(e) {\n                if (list.dragEl) {\n                    return;\n                }\n                var target = $(e.currentTarget),\n                    action = target.data('action'),\n                    item   = target.parent(list.options.itemNodeName);\n                if (action === 'collapse') {\n                    list.collapseItem(item);\n                }\n                if (action === 'expand') {\n                    list.expandItem(item);\n                }\n            });\n\n            var onStartEvent = function(e)\n            {\n                var handle = $(e.target);\n                if (!handle.hasClass(list.options.handleClass)) {\n                    if (handle.closest('.' + list.options.noDragClass).length) {\n                        return;\n                    }\n                    handle = handle.closest('.' + list.options.handleClass);\n                }\n\n                if (!handle.length || list.dragEl) {\n                    return;\n                }\n\n                list.isTouch = /^touch/.test(e.type);\n                if (list.isTouch && e.touches.length !== 1) {\n                    return;\n                }\n\n                e.preventDefault();\n                list.dragStart(e.touches ? e.touches[0] : e);\n            };\n\n            var onMoveEvent = function(e)\n            {\n                if (list.dragEl) {\n                    e.preventDefault();\n                    list.dragMove(e.touches ? e.touches[0] : e);\n                }\n            };\n\n            var onEndEvent = function(e)\n            {\n                if (list.dragEl) {\n                    e.preventDefault();\n                    list.dragStop(e.touches ? e.touches[0] : e);\n                }\n            };\n\n            if (hasTouch) {\n                list.el[0].addEventListener('touchstart', onStartEvent, false);\n                window.addEventListener('touchmove', onMoveEvent, false);\n                window.addEventListener('touchend', onEndEvent, false);\n                window.addEventListener('touchcancel', onEndEvent, false);\n            }\n\n            list.el.on('mousedown', onStartEvent);\n            list.w.on('mousemove', onMoveEvent);\n            list.w.on('mouseup', onEndEvent);\n\n        },\n\n        serialize: function()\n        {\n            var data,\n                depth = 0,\n                list  = this,\n                step  = function(level, depth)\n                {\n                    var array = [ ],\n                        items = level.children(list.options.itemNodeName);\n                    items.each(function()\n                    {\n                        var li   = $(this),\n                            item = $.extend({}, li.data()),\n                            sub  = li.children(list.options.listNodeName);\n                        if (sub.length) {\n                            item.children = step(sub, depth + 1);\n                        }\n                        array.push(item);\n                    });\n                    return array;\n                };\n            data = step(list.el.find(list.options.listNodeName).first(), depth);\n            return data;\n        },\n\n        serialise: function()\n        {\n            return this.serialize();\n        },\n\n        reset: function()\n        {\n            this.mouse = {\n                offsetX   : 0,\n                offsetY   : 0,\n                startX    : 0,\n                startY    : 0,\n                lastX     : 0,\n                lastY     : 0,\n                nowX      : 0,\n                nowY      : 0,\n                distX     : 0,\n                distY     : 0,\n                dirAx     : 0,\n                dirX      : 0,\n                dirY      : 0,\n                lastDirX  : 0,\n                lastDirY  : 0,\n                distAxX   : 0,\n                distAxY   : 0\n            };\n            this.isTouch    = false;\n            this.moving     = false;\n            this.dragEl     = null;\n            this.dragRootEl = null;\n            this.dragDepth  = 0;\n            this.hasNewRoot = false;\n            this.pointEl    = null;\n        },\n\n        expandItem: function(li)\n        {\n            li.removeClass(this.options.collapsedClass);\n            li.children('[data-action=\"expand\"]').hide();\n            li.children('[data-action=\"collapse\"]').show();\n            li.children(this.options.listNodeName).show();\n        },\n\n        collapseItem: function(li)\n        {\n            var lists = li.children(this.options.listNodeName);\n            if (lists.length) {\n                li.addClass(this.options.collapsedClass);\n                li.children('[data-action=\"collapse\"]').hide();\n                li.children('[data-action=\"expand\"]').show();\n                li.children(this.options.listNodeName).hide();\n            }\n        },\n\n        expandAll: function()\n        {\n            var list = this;\n            list.el.find(list.options.itemNodeName).each(function() {\n                list.expandItem($(this));\n            });\n        },\n\n        collapseAll: function()\n        {\n            var list = this;\n            list.el.find(list.options.itemNodeName).each(function() {\n                list.collapseItem($(this));\n            });\n        },\n\n        setParent: function(li)\n        {\n            if (li.children(this.options.listNodeName).length) {\n                li.prepend($(this.options.expandBtnHTML));\n                li.prepend($(this.options.collapseBtnHTML));\n            }\n            li.children('[data-action=\"expand\"]').hide();\n        },\n\n        unsetParent: function(li)\n        {\n            li.removeClass(this.options.collapsedClass);\n            li.children('[data-action]').remove();\n            li.children(this.options.listNodeName).remove();\n        },\n\n        dragStart: function(e)\n        {\n            var mouse    = this.mouse,\n                target   = $(e.target),\n                dragItem = target.closest(this.options.itemNodeName);\n\n            this.placeEl.css('height', dragItem.height());\n\n            mouse.offsetX = e.offsetX !== undefined ? e.offsetX : e.pageX - target.offset().left;\n            mouse.offsetY = e.offsetY !== undefined ? e.offsetY : e.pageY - target.offset().top;\n            mouse.startX = mouse.lastX = e.pageX;\n            mouse.startY = mouse.lastY = e.pageY;\n\n            this.dragRootEl = this.el;\n\n            this.dragEl = $(document.createElement(this.options.listNodeName)).addClass(this.options.listClass + ' ' + this.options.dragClass);\n            this.dragEl.css('width', dragItem.width());\n\n            dragItem.after(this.placeEl);\n            dragItem[0].parentNode.removeChild(dragItem[0]);\n            dragItem.appendTo(this.dragEl);\n\n            $(document.body).append(this.dragEl);\n            this.dragEl.css({\n                'left' : e.pageX - mouse.offsetX,\n                'top'  : e.pageY - mouse.offsetY\n            });\n            // total depth of dragging item\n            var i, depth,\n                items = this.dragEl.find(this.options.itemNodeName);\n            for (i = 0; i < items.length; i++) {\n                depth = $(items[i]).parents(this.options.listNodeName).length;\n                if (depth > this.dragDepth) {\n                    this.dragDepth = depth;\n                }\n            }\n        },\n\n        dragStop: function(e)\n        {\n            var el = this.dragEl.children(this.options.itemNodeName).first();\n            el[0].parentNode.removeChild(el[0]);\n            this.placeEl.replaceWith(el);\n\n            this.dragEl.remove();\n            this.el.trigger('change');\n            if (this.hasNewRoot) {\n                this.dragRootEl.trigger('change');\n            }\n            this.reset();\n        },\n\n        dragMove: function(e)\n        {\n            var list, parent, prev, next, depth,\n                opt   = this.options,\n                mouse = this.mouse;\n\n            this.dragEl.css({\n                'left' : e.pageX - mouse.offsetX,\n                'top'  : e.pageY - mouse.offsetY\n            });\n\n            // mouse position last events\n            mouse.lastX = mouse.nowX;\n            mouse.lastY = mouse.nowY;\n            // mouse position this events\n            mouse.nowX  = e.pageX;\n            mouse.nowY  = e.pageY;\n            // distance mouse moved between events\n            mouse.distX = mouse.nowX - mouse.lastX;\n            mouse.distY = mouse.nowY - mouse.lastY;\n            // direction mouse was moving\n            mouse.lastDirX = mouse.dirX;\n            mouse.lastDirY = mouse.dirY;\n            // direction mouse is now moving (on both axis)\n            mouse.dirX = mouse.distX === 0 ? 0 : mouse.distX > 0 ? 1 : -1;\n            mouse.dirY = mouse.distY === 0 ? 0 : mouse.distY > 0 ? 1 : -1;\n            // axis mouse is now moving on\n            var newAx   = Math.abs(mouse.distX) > Math.abs(mouse.distY) ? 1 : 0;\n\n            // do nothing on first move\n            if (!mouse.moving) {\n                mouse.dirAx  = newAx;\n                mouse.moving = true;\n                return;\n            }\n\n            // calc distance moved on this axis (and direction)\n            if (mouse.dirAx !== newAx) {\n                mouse.distAxX = 0;\n                mouse.distAxY = 0;\n            } else {\n                mouse.distAxX += Math.abs(mouse.distX);\n                if (mouse.dirX !== 0 && mouse.dirX !== mouse.lastDirX) {\n                    mouse.distAxX = 0;\n                }\n                mouse.distAxY += Math.abs(mouse.distY);\n                if (mouse.dirY !== 0 && mouse.dirY !== mouse.lastDirY) {\n                    mouse.distAxY = 0;\n                }\n            }\n            mouse.dirAx = newAx;\n\n            /**\n             * move horizontal\n             */\n            if (mouse.dirAx && mouse.distAxX >= opt.threshold) {\n                // reset move distance on x-axis for new phase\n                mouse.distAxX = 0;\n                prev = this.placeEl.prev(opt.itemNodeName);\n                // increase horizontal level if previous sibling exists and is not collapsed\n                if (mouse.distX > 0 && prev.length && !prev.hasClass(opt.collapsedClass)) {\n                    // cannot increase level when item above is collapsed\n                    list = prev.find(opt.listNodeName).last();\n                    // check if depth limit has reached\n                    depth = this.placeEl.parents(opt.listNodeName).length;\n                    if (depth + this.dragDepth <= opt.maxDepth) {\n                        // create new sub-level if one doesn't exist\n                        if (!list.length) {\n                            list = $('<' + opt.listNodeName + '/>').addClass(opt.listClass);\n                            list.append(this.placeEl);\n                            prev.append(list);\n                            this.setParent(prev);\n                        } else {\n                            // else append to next level up\n                            list = prev.children(opt.listNodeName).last();\n                            list.append(this.placeEl);\n                        }\n                    }\n                }\n                // decrease horizontal level\n                if (mouse.distX < 0) {\n                    // we can't decrease a level if an item preceeds the current one\n                    next = this.placeEl.next(opt.itemNodeName);\n                    if (!next.length) {\n                        parent = this.placeEl.parent();\n                        this.placeEl.closest(opt.itemNodeName).after(this.placeEl);\n                        if (!parent.children().length) {\n                            this.unsetParent(parent.parent());\n                        }\n                    }\n                }\n            }\n\n            var isEmpty = false;\n\n            // find list item under cursor\n            if (!hasPointerEvents) {\n                this.dragEl[0].style.visibility = 'hidden';\n            }\n            this.pointEl = $(document.elementFromPoint(e.pageX - document.body.scrollLeft, e.pageY - (window.pageYOffset || document.documentElement.scrollTop)));\n            if (!hasPointerEvents) {\n                this.dragEl[0].style.visibility = 'visible';\n            }\n            if (this.pointEl.hasClass(opt.handleClass)) {\n                this.pointEl = this.pointEl.parent(opt.itemNodeName);\n            }\n            if (this.pointEl.hasClass(opt.emptyClass)) {\n                isEmpty = true;\n            }\n            else if (!this.pointEl.length || !this.pointEl.hasClass(opt.itemClass)) {\n                return;\n            }\n\n            // find parent list of item under cursor\n            var pointElRoot = this.pointEl.closest('.' + opt.rootClass),\n                isNewRoot   = this.dragRootEl.data('nestable-id') !== pointElRoot.data('nestable-id');\n\n            /**\n             * move vertical\n             */\n            if (!mouse.dirAx || isNewRoot || isEmpty) {\n                // check if groups match if dragging over new root\n                if (isNewRoot && opt.group !== pointElRoot.data('nestable-group')) {\n                    return;\n                }\n                // check depth limit\n                depth = this.dragDepth - 1 + this.pointEl.parents(opt.listNodeName).length;\n                if (depth > opt.maxDepth) {\n                    return;\n                }\n                var before = e.pageY < (this.pointEl.offset().top + this.pointEl.height() / 2);\n                    parent = this.placeEl.parent();\n                // if empty create new list to replace empty placeholder\n                if (isEmpty) {\n                    list = $(document.createElement(opt.listNodeName)).addClass(opt.listClass);\n                    list.append(this.placeEl);\n                    this.pointEl.replaceWith(list);\n                }\n                else if (before) {\n                    this.pointEl.before(this.placeEl);\n                }\n                else {\n                    this.pointEl.after(this.placeEl);\n                }\n                if (!parent.children().length) {\n                    this.unsetParent(parent.parent());\n                }\n                if (!this.dragRootEl.find(opt.itemNodeName).length) {\n                    this.dragRootEl.append('<div class=\"' + opt.emptyClass + '\"/>');\n                }\n                // parent root list has changed\n                if (isNewRoot) {\n                    this.dragRootEl = pointElRoot;\n                    this.hasNewRoot = this.el[0] !== this.dragRootEl[0];\n                }\n            }\n        }\n\n    };\n\n    $.fn.nestable = function(params)\n    {\n        var lists  = this,\n            retval = this;\n\n        lists.each(function()\n        {\n            var plugin = $(this).data(\"nestable\");\n\n            if (!plugin) {\n                $(this).data(\"nestable\", new Plugin(this, params));\n                $(this).data(\"nestable-id\", new Date().getTime());\n            } else {\n                if (typeof params === 'string' && typeof plugin[params] === 'function') {\n                    retval = plugin[params]();\n                }\n            }\n        });\n\n        return retval || lists;\n    };\n\n})(window.jQuery || window.Zepto, window, document);\n\nexport default 'Nestable';","/**\n * --------------------------------------------------------------------------\n * Admin Site Menu (v0.0.1): site-menu.js\n * --------------------------------------------------------------------------\n */\n\nimport $ from 'jquery'\n// import Util from './util'\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NAME               = 'sitemenu'\nconst VERSION            = '0.0.1'\nconst DATA_KEY           = 'bs.sitemenu'\nconst EVENT_KEY          = `.${DATA_KEY}`\nconst DATA_API_KEY       = '.data-api'\nconst JQUERY_NO_CONFLICT = $.fn[NAME]\n\n\nconst Default = {}\nconst DefaultType = {}\n\nconst Event = {\n    LOAD_DATA_API           : `load${EVENT_KEY}${DATA_API_KEY}`\n}\n\nconst ClassName = {}\n\nconst Selector = {\n    editor: '.site-menu-editor'\n}\n\n/**\n * ------------------------------------------------------------------------\n * Class Definition\n * ------------------------------------------------------------------------\n */\n\nclass SiteMenu {\n\n    constructor(element) {\n        this._element = element\n        this._model   = document.querySelector(element.dataset.model)\n        this._form    = document.querySelector(element.dataset.form)\n        this._value   = []\n        this._active  = null\n\n        if(this._model.value)\n            this._value   = JSON.parse(this._model.value) || []\n\n        if(!this._value)\n            this._model.value = ''\n        else\n            this.render(this._value, this._element)\n\n        this.addElementsListener()\n\n        $(this._element)\n        .nestable({\n            collapseBtnHTML : '',\n            dragClass       : 'site-menu-item-drag',\n            expandBtnHTML   : '',\n            handleClass     : 'site-menu-item-handle',\n            itemClass       : 'site-menu-item',\n            listClass       : 'site-menu-list',\n            maxDepth        : 100,\n            placeClass      : 'site-menu-item-placeholder',\n            rootClass       : 'site-menu-editor'\n        })\n        .on('change', () => {\n            this.updateModel()\n        })\n    }\n\n    addElementsListener(){\n        $(this._element)\n            .on('click', '.btn-menu-edit', e => {\n                this._active = e.currentTarget.parentNode.parentNode\n                this.editMenu(this._active.dataset.label, this._active.dataset.link)\n            })\n            .on('click', '.btn-menu-add', () => {\n                this._active = null\n                this.editMenu('', '')\n            })\n            .on('click', '.btn-menu-remove', e => {\n                this._active = e.currentTarget.parentNode.parentNode\n\n                $.dialog.confirm('Remove Confirmation', 'Are you sure want to remove this menu?', res => {\n                    if(!res)\n                        return\n\n                    $(this._active).slideUp(() => {\n                        $(this._active).remove()\n                        this._active = null\n                        this.updateModel()\n                    })\n                })\n            })\n\n        $(this._form)\n            .on('show.bs.modal', () => this._form.classList.remove('was-validated'))\n            .on('shown.bs.modal', () => this._form.label.select())\n            .on('submit', e => {\n                e.preventDefault()\n\n                let value = {\n                    label: this._form.elements.label.value,\n                    link : this._form.elements.link.value\n                }\n\n                if(!value.label || !value.link)\n                    return\n\n                // update exists menu\n                if(this._active){\n                    this._active.dataset.label = value.label\n                    this._active.dataset.link  = value.link\n                    $(this._active).data('label', value.label)\n                    $(this._active).data('link', value.link)\n                    $(this._active).find('> .site-menu-item-handle > .site-menu-item-label').text(value.label)\n                    $(this._active).find('> .site-menu-item-handle > .site-menu-item-link').text(value.link)\n\n                    this._active = null\n                }else{\n                    let parent = $(this._element).children('.site-menu-list')[0]\n                    if(parent)\n                        this.makeItem(value).appendTo(parent)\n                    else\n                        this.render([value])\n                }\n\n                $(this._form).modal('hide')\n                this.updateModel()\n            })\n    }\n\n    editMenu(label, link){\n        this._form.label.value = label\n        this._form.link.value  = link\n        $(this._form).modal('show')\n    }\n\n    hs(str){\n        let map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '\"': '&quot;', \"'\": '&#039;' }\n        return str.replace(/[&<>\"']/g, function(m) { return map[m]; });\n    }\n\n    makeItem(item){\n        let safe = {\n                label : this.hs(item.label),\n                link  : this.hs(item.link)\n            },\n            tmpl = `\n                <li class=\"site-menu-item\" data-label=\"${safe.label}\" data-link=\"${safe.link}\">\n                    <div class=\"btn-group btn-group-sm\" role=\"group\" aria-label=\"Menu Action\">\n                        <button type=\"button\" class=\"btn btn-light btn-menu-edit\" title=\"Edit\">\n                            <i class=\"fas fa-edit\"></i>\n                        </button>\n                        <button type=\"button\" class=\"btn btn-light btn-menu-remove\" title=\"Remove\">\n                            <i class=\"fas fa-trash-alt\"></i>\n                        </button>\n                    </div>\n                    <div class=\"site-menu-item-handle\">\n                        <div class=\"site-menu-item-label\">${safe.label}</div>\n                        <small style=\"display:block\" class=\"text-truncate site-menu-item-link\">${safe.link}</small>\n                    </div>\n                </li>`,\n            eItem = $(tmpl)\n\n        if(item.children)\n            this.render(item.children, eItem)\n\n        return eItem\n    }\n\n    render(items, cont){\n        let eList = $('<ol class=\"site-menu-list\"></ol>').appendTo(cont)\n        items.forEach(item => this.makeItem(item).appendTo(eList))\n    }\n\n    updateModel(){\n        this._value = $(this._element).nestable('serialize')\n        console.log(this._value)\n        this._model.value = this._value.length ? JSON.stringify(this._value) : ''\n    }\n\n    // Static\n\n    static _jQueryInterface(config, relatedTarget) {\n        return this.each(function () {\n            let data = $(this).data(DATA_KEY)\n            if(data)\n                return\n            $(this).data(DATA_KEY, new SiteMenu(this))\n        })\n    }\n}\n\n/**\n * ------------------------------------------------------------------------\n * jQuery\n * ------------------------------------------------------------------------\n */\n\n$.fn[NAME] = SiteMenu._jQueryInterface\n$.fn[NAME].Constructor = SiteMenu\n$.fn[NAME].noConflict = () => {\n  $.fn[NAME] = JQUERY_NO_CONFLICT\n  return SiteMenu._jQueryInterface\n}\n\n$(window).on(Event.LOAD_DATA_API, () => {\n    $(Selector.editor).sitemenu()\n})\n\nexport default SiteMenu"]}